(this["webpackJsonpjimm-red"]=this["webpackJsonpjimm-red"]||[]).push([[6],{724:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0);function c(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),e}},757:function(e,t,n){"use strict";n.r(t);var a=n(12),c=n(5),r=n(0),o=(n(18),n(91)),i=n.n(o),d=n(728),l=n(725),s=n(730),j=n(731),b=n(732),u=n(733),f=n(673),h=n(11),p=n(22),O=n(688),m=n(107),v=n(718),g=(n(734),n(735),n(736),n(737),n(40)),y=n.n(g),x=n(724),D=n(29),C=n(14),Y=n(10),k=n(6),M=n(676),E=n(744),w=n(680),A=n(382),N=n(2),P=Object(f.a)((function(e){return{root:{},monthGrid:Object(Y.a)({},e.breakpoints.up("md"),{flex:"0 0 55%"})}}));var W=function(e){var t=e.date,n=(e.view,e.onDatePrev),a=e.onDateNext,r=(e.onEventAdd,e.onViewChange,e.onDateToday),o=e.className,d=Object(C.a)(e,["date","view","onDatePrev","onDateNext","onEventAdd","onViewChange","onDateToday","className"]),l=P();return Object(N.jsxs)(M.a,Object(c.a)(Object(c.a)({className:Object(k.a)(l.root,o)},d),{},{alignItems:"center",container:!0,justify:"space-between",spacing:3,children:[Object(N.jsx)(M.a,{item:!0,children:Object(N.jsxs)(E.a,{size:"small",children:[Object(N.jsx)(w.a,{onClick:n,children:"Prev"}),Object(N.jsx)(w.a,{onClick:r,children:"Today"}),Object(N.jsx)(w.a,{onClick:a,children:"Next"})]})}),Object(N.jsx)(M.a,{item:!0,className:l.monthGrid,children:Object(N.jsx)(A.a,{variant:"h3",color:"textPrimary",children:i()(t).format("MMMM YYYY")})})]}))},T=n(700),S=n(687),I=Object(f.a)((function(e){return{root:{},container:{display:"flex",justifyContent:"space-around",alignItems:"baseline"},messageWidth:{maxWidth:280}}}));function V(e){var t=e.event,n=e.mode,a=(e.onAdd,e.onCancel),c=(e.onDelete,e.onEdit,I());return Object(N.jsxs)("div",{children:[Object(N.jsx)(v.a,{p:3,children:Object(N.jsx)(A.a,{align:"center",gutterBottom:!0,variant:"h3",color:"textPrimary",children:"add"===n?"Add Event":"Event Info"})}),Object(N.jsxs)(v.a,{p:3,className:c.container,children:[Object(N.jsxs)(v.a,{children:[Object(N.jsx)(A.a,{variant:"h4",children:t.name}),Object(N.jsx)(v.a,{children:Object(N.jsx)(A.a,{variant:"body2",children:t.email})}),Object(N.jsx)(v.a,{mt:2,children:Object(N.jsx)(A.a,{variant:"h6",children:"Subject"})}),Object(N.jsx)(v.a,{children:Object(N.jsx)(A.a,{variant:"body2",children:t.subject})}),Object(N.jsx)(v.a,{mt:2,children:Object(N.jsx)(A.a,{variant:"h6",children:"Message"})}),Object(N.jsx)(v.a,{children:Object(N.jsx)(A.a,{variant:"body2",className:c.messageWidth,children:t.message})})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)(v.a,{mt:2,children:Object(N.jsx)(A.a,{variant:"h5",children:t.title})}),Object(N.jsx)(v.a,{children:Object(N.jsx)(A.a,{variant:"body1",children:i()(t.date,"YYYY-MM-DD").format("dddd MMM Do, YYYY")})}),Object(N.jsx)(v.a,{children:Object(N.jsx)(A.a,{variant:"body1",children:i()(t.start).format("hh:mm a")})})]})]}),Object(N.jsx)(S.a,{}),Object(N.jsxs)(v.a,{p:2,display:"flex",alignItems:"center",children:[Object(N.jsx)(v.a,{flexGrow:1}),Object(N.jsx)(w.a,{onClick:a,color:"primary",variant:"contained",disableElevation:!0,children:"Close"})]})]})}V.defaultProps={event:{},onAdd:function(){},onCancel:function(){},onDelete:function(){},onEdit:function(){}};var G=V;function R(e){var t=e.event,n=e.mode,a=e.onAdd,r=e.onCancel,o=e.onDelete,i=e.onEdit,d=e.open,l=Object(C.a)(e,["event","mode","onAdd","onCancel","onDelete","onEdit","open"]);return Object(N.jsx)(T.a,Object(c.a)(Object(c.a)({maxWidth:"sm",fullWidth:!0,onClose:r,open:d},l),{},{children:d&&Object(N.jsx)(G,{event:t,mode:n,onAdd:a,onCancel:r,onDelete:o,onEdit:i})}))}R.defaultProps={event:{},onAdd:function(){},onCancel:function(){},onDelete:function(){},onEdit:function(){},open:!1};var z=R,B=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},calendar:{"& .fc-unthemed th":{borderColor:e.palette.divider},"& .fc-unthemed td":{borderColor:e.palette.divider},"& .fc-unthemed td.fc-today":{backgroundColor:h.a.blue[50]},"& .fc-head":{backgroundColor:e.palette.background.dark},"& .fc-body":{backgroundColor:e.palette.background.default},"& .fc-axis":Object(c.a)({},e.typography.body2),"& .fc-list-item-time":Object(c.a)({},e.typography.body2),"& .fc-list-item-title":Object(c.a)({},e.typography.body1),"& .fc-list-heading-main":Object(c.a)({},e.typography.h6),"& .fc-list-heading-alt":Object(c.a)({},e.typography.h6),"& .fc th":{borderColor:e.palette.divider},"& .fc-day-header":Object(c.a)(Object(c.a)({},e.typography.subtitle2),{},{fontWeight:e.typography.fontWeightMedium,color:e.palette.text.secondary,padding:e.spacing(1),backgroundColor:e.palette.background.dark}),"& .fc-day-top":Object(c.a)({},e.typography.body2),"& .fc-highlight":{backgroundColor:e.palette.background.dark},"& .fc-event":{backgroundColor:e.palette.primary.main,color:e.palette.secondary.contrastText,borderWidth:2,opacity:.9,"& .fc-time":Object(c.a)(Object(c.a)({},e.typography.h6),{},{color:"inherit"}),"& .fc-title":Object(c.a)(Object(c.a)({},e.typography.body1),{},{color:"inherit"})},"& .fc-list-empty":Object(c.a)({},e.typography.subtitle1)},container:{padding:e.spacing(0,0,10,0)}}}));t.default=function(){var e=B(),t=Object(r.useRef)(null),n=Object(x.a)(),o=(Object(p.a)(),Object(r.useState)("dayGridMonth")),f=Object(a.a)(o,2),h=f[0],g=f[1],C=Object(r.useState)(i()().toDate()),Y=Object(a.a)(C,2),k=Y[0],M=Y[1],E=Object(r.useState)(null),w=Object(a.a)(E,2),A=w[0],P=w[1],T=Object(r.useState)({event:null,mode:null,open:!1}),S=Object(a.a)(T,2),I=S[0],V=S[1],G=Object(r.useCallback)((function(){var e=[];y.a.get("/api/v1/events").then((function(t){n.current&&t.data.map((function(t){var n=i()(t.date,"dddd MMM Do, YYYY").format("YYYY-MM-DD")+"T"+t.time;return e.push({id:t.id,name:t.name,email:t.email,message:t.message,subject:t.subject,date:i()(t.date,"dddd MMM Do, YYYY").format("YYYY-MM-DD"),start:n,title:t.service}),!0}));P(e)}))}),[n]);Object(r.useEffect)((function(){G()}),[G]);var R=function(){V({event:null,mode:null,open:!1})};return A?Object(N.jsx)(D.a,{className:e.root,title:"Calendar",children:Object(N.jsxs)(O.a,{className:e.container,children:[Object(N.jsx)(W,{date:k,onDateNext:function(){var e=t.current;if(e){var n=e.getApi();n.next(),M(n.getDate())}},onDatePrev:function(){var e=t.current;if(e){var n=e.getApi();n.prev(),M(n.getDate())}},onDateToday:function(){var e=t.current;if(e){var n=e.getApi();n.today(),M(n.getDate())}},onViewChange:function(e){var n=t.current;n&&(n.getApi().changeView(e),g(e))},view:h}),Object(N.jsx)(m.a,{className:e.calendar,component:v.a,mt:3,p:2,children:Object(N.jsx)(d.a,{allDayMaintainDuration:!0,defaultDate:k,defaultView:h,droppable:!0,editable:!0,eventClick:function(e){var t=A.find((function(t){return t.id===parseInt(e.event.id)}));V({event:Object(c.a)({},t),mode:"edit",open:!0})},eventDrop:function(e){var t=e.event;P((function(e){return e.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{allDay:t.allDay,start:t.start,end:t.end}):e}))}))},eventLimit:!0,eventResizableFromStart:!0,eventResize:function(e){var t=e.event;P((function(e){return e.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{allDay:t.allDay,start:t.start,end:t.end}):e}))}))},events:A,timeFormat:"h:mm",header:!1,height:800,ref:t,rerenderDelay:10,selectable:!0,weekends:!0,plugins:[l.d,s.a,j.a,b.a,u.a]})}),Object(N.jsx)(z,{event:I.event,mode:I.mode,onCancel:function(){R()},onDelete:function(e){P((function(t){return t.filter((function(t){return t.id!==e}))})),R()},onEdit:function(e){P((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),R()},open:I.open})]})}):null}}}]);
//# sourceMappingURL=6.60ab142e.chunk.js.map